{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Navigate}from'react-router-dom';import{CircularProgress,Box,Typography}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const[isAuthenticated,setIsAuthenticated]=useState(false);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{// Check authentication\nconst token=localStorage.getItem('adminToken');const user=localStorage.getItem('adminUser');// In a real app, you would verify the token with your backend\n// For demo purposes, we'll just check if it exists\nif(token&&user){setIsAuthenticated(true);}else{setIsAuthenticated(false);}setIsLoading(false);},[]);if(isLoading){return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100vh',gap:2},children:[/*#__PURE__*/_jsx(CircularProgress,{size:60}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"Checking authentication...\"})]});}if(!isAuthenticated){// Redirect to login page if not authenticated\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/admin/login\",replace:true});}// Render children if authenticated\nreturn children;};export default ProtectedRoute;","map":{"version":3,"names":["React","useEffect","useState","Navigate","CircularProgress","Box","Typography","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","setIsAuthenticated","isLoading","setIsLoading","token","localStorage","getItem","user","sx","display","flexDirection","alignItems","justifyContent","height","gap","size","variant","color","to","replace"],"sources":["/home/sdragon/Desktop/GitHub/cybersecurity-aptitude-test/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { CircularProgress, Box, Typography } from '@mui/material';\n\nconst ProtectedRoute = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Check authentication\n    const token = localStorage.getItem('adminToken');\n    const user = localStorage.getItem('adminUser');\n    \n    // In a real app, you would verify the token with your backend\n    // For demo purposes, we'll just check if it exists\n    if (token && user) {\n      setIsAuthenticated(true);\n    } else {\n      setIsAuthenticated(false);\n    }\n    \n    setIsLoading(false);\n  }, []);\n\n  if (isLoading) {\n    return (\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100vh',\n          gap: 2,\n        }}\n      >\n        <CircularProgress size={60} />\n        <Typography variant=\"h6\" color=\"text.secondary\">\n          Checking authentication...\n        </Typography>\n      </Box>\n    );\n  }\n\n  if (!isAuthenticated) {\n    // Redirect to login page if not authenticated\n    return <Navigate to=\"/admin/login\" replace />;\n  }\n\n  // Render children if authenticated\n  return children;\n};\n\nexport default ProtectedRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,gBAAgB,CAAEC,GAAG,CAAEC,UAAU,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElE,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAACE,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACc,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAEhDD,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAiB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAChD,KAAM,CAAAC,IAAI,CAAGF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAE9C;AACA;AACA,GAAIF,KAAK,EAAIG,IAAI,CAAE,CACjBN,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,IAAM,CACLA,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CAEAE,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,SAAS,CAAE,CACb,mBACEN,KAAA,CAACL,GAAG,EACFiB,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,MAAM,CAAE,OAAO,CACfC,GAAG,CAAE,CACP,CAAE,CAAAf,QAAA,eAEFL,IAAA,CAACJ,gBAAgB,EAACyB,IAAI,CAAE,EAAG,CAAE,CAAC,cAC9BrB,IAAA,CAACF,UAAU,EAACwB,OAAO,CAAC,IAAI,CAACC,KAAK,CAAC,gBAAgB,CAAAlB,QAAA,CAAC,4BAEhD,CAAY,CAAC,EACV,CAAC,CAEV,CAEA,GAAI,CAACC,eAAe,CAAE,CACpB;AACA,mBAAON,IAAA,CAACL,QAAQ,EAAC6B,EAAE,CAAC,cAAc,CAACC,OAAO,MAAE,CAAC,CAC/C,CAEA;AACA,MAAO,CAAApB,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}